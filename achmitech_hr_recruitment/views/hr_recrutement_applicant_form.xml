<odoo>
  <record id="hr_applicant_view_form_inherited" model="ir.ui.view">
        <field name="name">hr.applicant.view.form.inherited</field>
        <field name="model">hr.applicant</field>
        <field name="inherit_id" ref="hr_recruitment.hr_applicant_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//form//notebook" position="inside">
                <page string="Évaluations" name="applicant_evaluation">
                    <field name="evaluation_ids">
                        <list editable="bottom" delete="1">
                            <field name="date" readonly="1" optional="hide"/>
                            <field name="stage_id" 
                                readonly="1" 
                                force_save="1" 
                                options="{'no_create_edit': True, 'no_open': True}"/>
                            <field name="interviewer_id" 
                                required="stage_id.is_client_interview" 
                                readonly="not stage_id.is_client_interview"
                                options="{'no_create_edit': True, 'no_open': True}"/>
                            <field name="rating"/>
                            <field name="decision" readonly="1"/>
                            <field name="comment"/>
                        </list>
                    </field>
                </page>
                <page string="Dossier de compétence" name="applicant_dca">
                    <!-- Submission info -->
                    <group>
                        <field name="dca_access_token" readonly="1" invisible="1" widget="CopyClipboardChar"/>
                        <field name="applicant_dossier_url" widget="CopyClipboardChar"/>
                        <field name="dca_submitted"/>
                        <field name="dca_submitted_date"
                            readonly="1"
                            invisible="not dca_submitted"/>
                    </group>
                    <!-- Formations -->
                    <group>
                        <field name="dossier_formation_ids"
                            context="{'default_applicant_id': id}"
                            readonly="dca_submitted">

                            <list delete="1">
                                <field name="sequence" widget="handle"/>
                                <field name="title"/>
                                <field name="start"/>
                                <field name="end"/>
                            </list>

                        </field>
                    </group>
                    <!-- Habilitations -->
                    <group>
                        <field name="dossier_habilitation_ids"
                            context="{'default_applicant_id': id}"
                            readonly="dca_submitted">

                            <list delete="1">
                                <field name="sequence" widget="handle"/>
                                <field name="title"/>
                            </list>

                        </field>
                    </group>
                    <!-- Experiences -->
                    <field name="dossier_experience_ids"
                            context="{'default_applicant_id': id}"
                            readonly="dca_submitted">

                        <list delete="1">
                            <field name="sequence" widget="handle"/>
                            <field name="name"/>
                            <field name="company"/>
                            <field name="role" optional="hide"/>
                            <field name="poste"/>
                            <field name="contexte" optional="hide"/>
                            <field name="sujet" optional="hide"/>
                            <field name="travail" optional="hide"/>
                            <field name="resultats" optional="hide"/>
                            <field name="competency_line_ids" optional="hide"/>
                            <field name="start"/>
                            <field name="end"/>
                        </list>
                    </field>
                </page>
            </xpath>

            <xpath expr="//field[@name='availability']" position="replace">
                <label for="availability"/>
                <div class="o_row">
                    <field name="availability" nolabel="1" placeholder="Directement"/>
                    <span class="o_form_label ms-3">Négociable ?</span>
                    <field name="availability_negotiable" nolabel="1"/>
                </div>
            </xpath>

            <xpath expr="/form//field[@name='user_id']" position="attributes">
                <attribute name="string">Créé par</attribute>
            </xpath>
        </field>
    </record>

    <record id="hr_applicant_dossier_experience_view_form" model="ir.ui.view">
        <field name="name">hr.applicant.dossier.experience.view.form</field>
        <field name="model">hr.applicant.dossier.experience</field>
        <field name="arch" type="xml">
            <form string="Expérience">
                <sheet>
                    <group>
                        <field name="applicant_id" invisible="1"/>
                        <field name="sequence" invisible="1"/>
                        <field name="name"/>
                    </group>

                    <group string="Informations générales" col="2">
                        <field name="company"/>
                        <field name="poste"/>
                        <field name="role"/>
                        <field name="start"/>
                        <field name="end"/>
                    </group>

                    <notebook>
                        <page string="Contexte">
                            <field name="contexte" widget="html" placeholder="Contexte général..."/>
                        </page>
                        <page string="Sujet">
                            <field name="sujet" widget="html" placeholder="Sujet du projet..."/>
                        </page>
                        <page string="Travail réalisé">
                            <field name="travail" widget="html" placeholder="Travail réalisé..."/>
                        </page>
                        <page string="Responsabilités occupées">
                            <field name="responsabilites" widget="html" placeholder="Travail réalisé..."/>
                        </page>
                        <page string="Résultats">
                            <field name="resultats" widget="html" placeholder="Résultats obtenus..."/>
                        </page>

                        <page string="Compétences">
                            <div class="o_hr_skills_editable o_hr_skills_group o_group_skills">
                                <group>
                                    <field mode="list" nolabel="1" name="competency_line_ids" widget="skills_one2many"
                                            context="{'default_experience_id': id, 'no_timeline': True}" >
                                        <list class="o_applicant_skills">
                                            <field name="skill_type_id" optional="hidden"/>
                                            <field name="skill_id" domain="[('skill_type_id', '=', skill_type_id)]"/>
                                            <field name="skill_level_id" domain="[('id','in', skill_type_id.skill_level_ids)]"/>
                                            <!-- <field name="level_progress" widget="progressbar"/> -->
                                        </list>
                                    </field>
                                </group>
                            </div>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
</odoo>
